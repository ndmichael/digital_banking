{% extends 'users/base.html' %} {% load static %} {% load crispy_forms_tags %}


{% block content %}

<section id="wrapper">
    <nav class="navbar navbar-expand d-flex flex-column align-items-start" id="sidebar">
        <a href="#" class=" navbar-brand text-light mt-5">
            <div class="fw-bolder display-4">
                Banking
            </div>
        </a> 
        <ul class="nav nav-tabs d-flex flex-column mt-5 w-100" id="myTab" role="tablist">
            <li class="nav-item w-100">
                <a href="#dashboard" class="nav-link active ps-4" data-bs-toggle="tab">
                    <i class=" bi bi-house-door" style="font-size: 1em;"></i>
                    Dashboard
                </a>
            </li>
            <li class="nav-item w-100">
                <a href="#account" class="nav-link ps-4" data-bs-toggle="tab">
                    <i class=" bi bi-wallet2" style="font-size: 1em;"></i>
                    Account
                </a>
            </li>
            <li class="nav-item w-100">
                <a href="#cards" class="nav-link ps-4" data-bs-toggle="tab">
                    <i class=" bi bi-credit-card-2-back" style="font-size: 1em;"></i>
                    Cards
                </a>
            </li>
            <li class="nav-item w-100">
                <a href="#investment" class="nav-link ps-4" data-bs-toggle="tab">
                    <i class=" bi bi-bar-chart-line" style="font-size: 1em;"></i>
                    Investment
                </a>
            </li>
            <li class="nav-item w-100">
                <a href="#transfer" class="nav-link ps-4" data-bs-toggle="tab">
                    <i class=" bi bi-send-plus" style="font-size: 1em;"></i>
                    Make Transfer
                </a>
            </li>
            <a href="{% url 'account_logout' %}" class="nav-link ps-4">
                <i class=" bi bi-door-closed" style="font-size: .7em;"></i>
                <small class="text-muted">Logout</small>
            </a>
        </ul>

    </nav>

    <div class="tab-content" id="tab-content">
        <div id="dashboard" class="container tab-pane active">
            <section class="row">
                <div class="col-12">
                    <h1>Welcome, <small class="text-muted">{{user.username}}</small></h1>
                </div>
                <div class="col-12 col-md-8 mx-auto mt-5">
                    <table class="table table-borderless border-center">

                        <tbody>
                          <tr>
                            <td>First name:</td>
                            <td class="text-end"><b>{{user.first_name}}</b></td>
                          </tr>
                          <tr>
                            <td>Last name:</td>
                            <td class="text-end"><b>{{user.last_name}}</b></td>
                          </tr>     
                          <tr>
                            <td>Email:</td>
                            <td class="text-end"><b>{{user.email}}</b></td>
                          </tr>
                          <tr>
                            <td>Address</td>
                            <td class="text-end"><b>{{user.address}}</b></td>
                          </tr>
                          <tr>
                            <td>Country</td>
                            <td class="text-end"><b>{{user.country.name}}</b></td>
                          </tr>
                        </tbody>
                      </table>
                </div>
            </section>
            <section class="row pt-5">
                <div class="col-12 col-md-8 mx-auto p-5 bg-white shadow-sm rounded-4">
                    <h3 class="text-primary">
                        No recent transactions
                    </h3>
                </div>
            </section>
        </div>
        <!-- account section-->
        <div id="account" class="container tab-pane fade">
            <section class="row pt-5">
                <div class="col-12">
                    <table class="table table-borderless">
                        <h5>Bank Account Details</h5>
                        <thead>
                            <tr>
                                <th class="text-muted">Account Number</th>
                                <th class="text-muted">Account Balance</th>
                                <th class="text-muted">Available Balance</th>
                                <th class="text-muted">Account Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-primary"><p><b>{{account.number}}</b></p></td>
                                <td><p><b>${{account.balance}}</b></p></td>
                                <td><p><b>${{account.balance}}</b></p></td>
                                <td class="text-success"><p><b>Active</b></p></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-12">
                    <table class="table table-light table-borderless shadow-sm">
                        <tbody>
                            <tr>
                                <td class="text-muted p-4">Account Type:</td>
                                <td class=" text-primary fw-bold  p-4">Savings</td>
                            </tr>
                            <tr >
                                <td class="text-muted p-4">Currency:</td>
                                <td class="text-primary fw-bold p-4">$ (Dollars)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            <section class="row g-5">
                <div class="col-12 col-md-6">
                    <div class="bg-white shadow-sm p-5">box will be here</div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="bg-white shadow-sm p-5">box will be here</div>
                </div>
            </section>
        </div>
        <div id="cards" class="container tab-pane fade pt-5">
            <section class="row">
                <div class="col-12 col-md-4">
                    <div>
                        <img src="{% static 'dbank/images/platinumcard-removebg.png' %}" alt=""  class="img-fluid rounded-5" >
                    </div>
                </div>
                <div class="col-12 col-md-4 align-self-center">
                    <span class="d-flex">
                        <i class="bi bi-check-all pe-4 text-primary"></i>
                        <p>Spend more</p> 
                    </span>
                    <span class="d-flex">
                        <i class="bi bi-check-all pe-4 text-primary"></i>
                        <p>Access to up to $150,000.00 loan.</p>
                    </span>
                    <span class="d-flex">
                        <i class="bi bi-check-all pe-4 text-primary"></i>
                        <p>No hidden charges</p>
                    </span>
                    <span class="d-flex">
                        <i class="bi bi-check-all pe-4 text-primary"></i>
                        <p>No maintainance fee</p>
                    </span>
                </div>
                <div class="col-12 col-md-4 align-self-center">
                    <a href="#" class="btn btn-primary ntm-lg">
                        REQUEST TODAY.
                    </a>
                </div>
            </section>
        </div>
        <div id="investment" class="container tab-pane fade">
            <section class="row">
                <div class="col-12">
                    <h1>This Feature coming soon.</h1>
                </div>
            </section>
        </div>
        <div id="transfer" class="container tab-pane fade">
            <section class="row">
                <div class="col-12 col-md-10  mx-auto">
                    <div class="bg-white shadow-sm rounded-5 p-2 p-md-5">
                        <h3 class="py-4">International Transfer Form.</h3>
                        <form method="post" action="">
                            {% csrf_token %}
                            <div class="row">
                                <div class="form-group col-12 col-md-6 mb-3">
                                    {{form.amount|as_crispy_field}}             
                                </div>
                                <div class="form-group col-12 col-md-6 mb-3">
                                    {{ form.swift_code|as_crispy_field }}
                                </div>
                                <div class="form-group col-12 col-md-8 mb-3">
                                    {{ form.receivers_name|as_crispy_field }}
                                </div>
                                <div class="form-group col-4 col-md-4 mb-3">
                                    {{ form.pin|as_crispy_field }}
                                </div>
                                <div class="form-group col-8 col-md-6 mb-4">
                                    {{ form.beneficiary_account_number|as_crispy_field }}
                                </div>
                                <div class="form-group col-12 col-md-6">
                                    {{ form.country|as_crispy_field }}
                                </div>
                                <div class="form-group col-12">
                                    {{ form.beneficiary_bank_address|as_crispy_field }}
                                </div>
        
                                <div class="pt-4">
                                    <button class="btn btn-lg btn-primary col-12 col-md-6" type="submit">
                                        SUBMIT TRANSFER
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
          </div>
      </div>
</section>



{% endblock %}